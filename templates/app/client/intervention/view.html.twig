{% extends 'app.html.twig' %}

{% block title %}Intervention {% endblock %}

{% block body %}
    <div class="container">
        <div class="row">
            <div class="col-12" align="center">
                <h1>Intervention du {{ intervention.getStartAt|date('j/m') }} pour {{ intervention.getClient.getName }} {{ intervention.getClient.getSurname }} </h1>
            </div>
            <div class="col-12 mt-4">
                <div class="card">
                    <div class="card-header">
                        <h2>Modifier l'intervention</h2>
                    </div>
                    <div class="card-body">
                        {{ form_start(form_intervention) }}
                        {{ form_errors(form_intervention) }}
                        <div class="col-12 mt-2">
                            {{ form_row(form_intervention.title) }}
                        </div>
                        <div class="col-12 mt-2">
                            <div class="row">
                                {{ form_label(form_intervention.start_at) }}
                                {{ form_widget(form_intervention.start_at.date.day, {'attr': {'class': 'form-select col'}}) }}
                                {{ form_widget(form_intervention.start_at.date.month, {'attr': {'class': 'form-select col'}}) }}
                                {{ form_widget(form_intervention.start_at.date.year, {'attr': {'class': 'form-select col'}}) }}
                                {{ form_widget(form_intervention.start_at.time.hour, {'attr': {'class': 'form-select col'}}) }}
                                {{ form_widget(form_intervention.start_at.time.minute, {'attr': {'class': 'form-select col'}}) }}
                            </div>
                        </div>
                        <div class="col-12 col-sm-12 mt-2">
                            <div class="row">
                                {{ form_label(form_intervention.end_at) }}
                                {{ form_widget(form_intervention.end_at.date.day, {'attr': {'class': 'form-select col'}}) }}
                                {{ form_widget(form_intervention.end_at.date.month, {'attr': {'class': 'form-select col'}}) }}
                                {{ form_widget(form_intervention.end_at.date.year, {'attr': {'class': 'form-select col'}}) }}
                                {{ form_widget(form_intervention.end_at.time.hour, {'attr': {'class': 'form-select col'}}) }}
                                {{ form_widget(form_intervention.end_at.time.minute, {'attr': {'class': 'form-select col'}}) }}
                            </div>
                        </div>
                        <div class="col-12  mt-2">
                            {{ form_row(form_intervention.is_visible) }}
                        </div>
                        <div class="col-12 mt-2">
                            {{ form_row(form_intervention.informations) }}
                        </div>
                        <div class="col-12 mt-2" align="center">
                            <input type="submit" value="Modifier" class="btn btn-outline-info">
                        </div>
                        {{ form_end(form_intervention) }}
                    </div>
                </div>
            </div>
            <div class="col-12 mt-4">
                <div class="row">
                    <div class="col-6" align="left">
                        {% if intervention.getIsNotified %}
                            deja notifier
                        {% else %}
                            <a href="{{ path('app_intervention_notif', {intervention: intervention.getId}) }}" class="btn btn-outline-primary">Informer le client par mail</a>
                        {% endif %}
                    </div>

                    <div class="col-6" align="right">
                        <a href="{{ path('app_client_edit', {id: intervention.getClient.getId}) }}" class="btn btn-outline-dark">Retour Ã  la fiche client</a>
                    </div>
                </div>

            </div>
        </div>
    </div>
{% endblock %}